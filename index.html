<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Route 66: Health Disparities Along Boston's Bus Route</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css">
  <script src="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js"></script>
  <link href="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css" rel="stylesheet">
  <script src="https://unpkg.com/scrollama"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
  <!-- SortableJS for drag-and-drop reordering -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.14.0/Sortable.min.js"></script>
</head>
<body>
  <div id="map"></div>
  <div id="story">
    <div id="intro">
      <h1>Health on the Line: 6 Miles and 23 Years Along the 66 Bus Route</h1>
      <p>Boston is a deeply unequal city. Despite being one of the richest cities in America, with a median income of nearly $100,000, it is also one of the most unequal. Boston has the highest income inequality of any city in the nation [1] and a GINI coefficient [2] that, were Boston a country, would put it on par with Colombia and behind only South Africa and Namibia. [3]</p>
      <p>This inequality is also apparent in health outcomes. While Boston has the best healthcare of any city in the world [4] and the state has the country's second-highest life expectancy [5], Bostonians face starkly different health outlooks depending on where they live. A few miles can be the difference between a life expectancy in the 60s and the 90s. [6] </p>
      <p>Greater Boston's transit infrastructure is itself a reflection of the city's deep divides. All the major rail lines connect the city core to wealthy suburbs, mostly avoiding the poorer parts of the city — Roxbury, Dorchester, Mattapan, Chelsea, Everett, and Revere. This arterial rail layout leaves the 66 bus route the closest thing Greater Boston has to a ring route, connecting with all branches of the Green Line, the Red Line, and the Orange Line, running through drastically unequal areas in just six miles.</p>
      <p>The 66 begins at Johnston gate, next to Massachusetts Hall in Harvard Yard, where the nation's oldest and arguably most prestigious university was founded nearly 400 years ago. It then crosses the Charles into Allston, where Harvard owns a third of all property. [7] The bus then continues into Brighton, a part of the city that has historically been much poorer than its neighbors. From there, the 66 crosses into Brookline, the closest of the highly affluent Boston suburbs. Exiting Brookline, the bus passes by the Longwood Medical Area, home to eight hospitals and Harvard's Medical, Dental, and Public Health Schools. The bus then ends its journey in Roxbury, one of the poorest areas in the city, home to "Methadone Mile." </p>
      <p>These factors make the 66 the perfect vehicle for understanding the social determinants of health in Greater Boston. The disparities visible along the 66 route—differences in housing, access to greenspaces, environmental quality, healthcare access, and public investment—are the result of decades of redlining and systematic neglect. A social medicine perspective allows us to understand how inequality is embodied in both the built environment and the health outcomes of individuals.</p>
      <p>This project interweaves statistics, photography, and narrative to shed light on these inequalities. It invites you as the viewer to viscerally <i>experience</i> what can often be out of sight, out of mind for many Boston-area residents. None of these disparities are accidental: they are the intended product of decades of policy. But just because it is this way now does not force it to always be so: just as policy is made, so can it be unmade.</p>
      <p>Scroll down to explore the route with me through photos and data.</p>
    </div>
    <div id="scrolly">
      <div id="graphic"></div>
    </div>
    <div id="references">
      <h2>References</h2>
      <p>[1] Goodman J. <em>Boston tops list of most unequal cities</em>. The Boston Globe. January 14, 2016. Accessed May 9, 2025. https://www.bostonglobe.com/business/2016/01/14/boston-tops-list-most-unequal-cities/FSHEoXBxYiWtXrA6OY7nsL/story.html</p>
      <p>[2] Florida R. <em>Ranking cities by the new urban crisis</em>. Bloomberg. August 29, 2019. Accessed May 9, 2025. https://www.bloomberg.com/news/articles/2019-08-29/ranking-cities-by-the-new-urban-crisis</p>
      <p>[3] The World Bank. <em>Gini index (World Bank estimate)</em>. Updated April 2024. Accessed May 9, 2025. https://data.worldbank.org/indicator/SI.POV.GINI</p>
      <p>[4] Medbelle. <em>Best hospital cities USA</em>. Accessed May 9, 2025. https://www.medbelle.com/best-hospital-cities-usa/</p>
      <p>[5] USAFacts. <em>Which states have the highest and lowest life expectancy?</em> Accessed May 9, 2025. https://usafacts.org/articles/which-states-have-highest-and-lowest-life-expectancy/</p>
      <p>[6] City of Boston. <em>Health of Boston 2023: Mortality and Life Expectancy</em>. May 12, 2023. Accessed May 9, 2025. https://www.boston.gov/sites/default/files/file/2023/05/HOB_Mortality_LE_2023_FINAL_May12.pdf</p>
    </div>
  </div>

  <div id="control-panel">
    <button id="toggle-edit">Customize Order</button>
    <div id="order-editor" style="display: none;">
      <p>Drag items to reorder:</p>
      <div id="sortable-list"></div>
      <button id="save-order">Save Order</button>
      <button id="cancel-edit">Cancel</button>
    </div>
  </div>

  <script src="script.js"></script>
  <script>
    // Add code for the order customization interface
    document.getElementById('toggle-edit').addEventListener('click', function() {
      const orderEditor = document.getElementById('order-editor');
      if (orderEditor.style.display === 'none') {
        orderEditor.style.display = 'block';
        
        // Populate the sortable list with current item order
        const sortableList = document.getElementById('sortable-list');
        sortableList.innerHTML = '';
        
        // Add a note saying intro and references sections are fixed
        const noteElement = document.createElement('div');
        noteElement.className = 'order-note';
        noteElement.innerHTML = '<em>Note: Intro and References sections are fixed at beginning and end.</em>';
        sortableList.appendChild(noteElement);
        
        customOrder.forEach((index, position) => {
          if (photoData[index]) {
            const item = document.createElement('div');
            item.className = 'sortable-item';
            item.setAttribute('data-index', index);
            
            // Determine if this is a text entry or image
            const isTextOnly = !photoData[index].filename || photoData[index].filename.trim() === '';
            
            if (isTextOnly) {
              item.innerHTML = `
                <div class="text-icon">Txt</div>
                <span>${photoData[index].title || 'Text Entry'}</span>
              `;
            } else {
              // Only show title if explicitly provided
              const displayTitle = photoData[index].title && photoData[index].title.trim() !== '' 
                ? photoData[index].title 
                : 'Item ' + (position + 1); // Just use a position number if no title
              
              item.innerHTML = `
                <img src="assets/img/${photoData[index].filename.trim()}" width="50" height="50" style="object-fit: cover; margin-right: 10px;">
                <span>${displayTitle}</span>
              `;
            }
            
            sortableList.appendChild(item);
          }
        });
        
        // Initialize sortable
        new Sortable(sortableList, {
          animation: 150,
          ghostClass: 'sortable-ghost'
        });
      } else {
        orderEditor.style.display = 'none';
      }
    });
    
    // Save the new order
    document.getElementById('save-order').addEventListener('click', function() {
      const items = document.querySelectorAll('.sortable-item');
      const newOrder = Array.from(items).map(item => parseInt(item.getAttribute('data-index')));
      
      reorderPhotos(newOrder);
      document.getElementById('order-editor').style.display = 'none';
    });
    
    // Cancel editing
    document.getElementById('cancel-edit').addEventListener('click', function() {
      document.getElementById('order-editor').style.display = 'none';
    });
  </script>
</body>
</html>
